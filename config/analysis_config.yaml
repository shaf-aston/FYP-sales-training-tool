# Configuration for analysis.py - NLU logic parameters

# Conversation analysis thresholds
thresholds:
  min_substantive_word_count: 8  # Words needed for "substantive answer"
  short_message_limit: 4          # Max words for "short" response
  question_fatigue_threshold: 2   # Questions in recent turns triggering fatigue
  validation_loop_threshold: 2    # Validations triggering repetition warning
  recent_history_window: 10       # Turns to check for goal priming
  recent_text_messages: 3         # User messages to check for intent keywords

# Goal indicator keywords for intent locking
goal_indicators:
  - "lose weight"
  - "put on muscle"
  - "been fat"
  - "struggling"
  - "looking to"
  - "trying to"
  - "need to"
  - "want to"
  - "problem"
  - "issue"
  - "challenge"
  - "goal"
  - "trying"
  - "fix"
  - "solve"
  - "improve"
  - "upgrade"
  - "replace"
  - "better"
  - "tired of"
  - "sick of"
  - "fed up"
  - "done with"
  - "ready to"
  - "time to"

# Preference extraction keywords (product-specific)
preference_keywords:
  reliability:
    - "reliability"
    - "reliable"
  budget:
    - "cheap"
    - "budget"
    - "affordable"
    - "economical"
    - "cost-effective"
    - "inexpensive"
  mileage:
    - "low mileage"
    - "mileage"
    - "miles"
    - "odometer"
  safety:
    - "safety"
    - "safe"
    - "crash rating"
    - "airbags"
    - "safety features"
  roadtrip:
    - "roadtrip"
    - "road trip"
    - "long drive"
    - "highway"
  family:
    - "family"
    - "kids"
    - "children"
    - "car seats"
    - "family-friendly"
  comfort:
    - "comfort"
    - "comfortable"
    - "luxury"
    - "plush"
  fuel_efficient:
    - "fuel efficient"
    - "mpg"
    - "gas mileage"
    - "hybrid"
    - "electric"
  durability:
    - "strong"
    - "durable"
    - "reliable"
    - "last long"
    - "built to last"
  performance:
    - "fast"
    - "powerful"
    - "horsepower"
    - "acceleration"
    - "sporty"
  cargo:
    - "cargo space"
    - "trunk"
    - "storage"
    - "haul"
  towing:
    - "towing"
    - "tow"
    - "trailer"
  technology:
    - "tech"
    - "infotainment"
    - "bluetooth"
    - "navigation"
    - "touchscreen"
  warranty:
    - "warranty"
    - "coverage"
    - "guarantee"

# Question word patterns for literal question detection
question_patterns:
  starters:
    - "what"
    - "when"
    - "where"
    - "who"
    - "how"
    - "why"
    - "whats"
    - "which"
    - "can you"
    - "could you"
    - "would you"
    - "will you"
    - "do you"
    - "does"
    - "is"
    - "are"
  rhetorical_markers:
    - "right?"
    - "don't you think"
    - "wouldn't you say"

# Buying stage indicators
buying_stage:
  research:
    - "researching"
    - "learning about"
    - "understand"
    - "how does"
    - "what is"
  consideration:
    - "comparing"
    - "which one"
    - "pros and cons"
    - "difference"
  decision:
    - "ready to buy"
    - "ready to purchase"
    - "let's do this"
    - "how do i proceed"

# Stage advancement thresholds
advancement:
  intent:
    low_intent_max_turns: 6
    high_intent_max_turns: 4
  logical:
    max_turns: 5
  emotional:
    max_turns: 6
