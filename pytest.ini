[pytest]
# Pytest configuration for KALAP V2 testing
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Output options
addopts = 
    -v
    --tb=short
    --strict-markers
    -p no:warnings
    -p no:randomly
    --color=yes

# Markers for test organization
markers =
    unit: Unit tests for individual modules
    integration: Integration tests for module interactions
    fuzzy: Tests for fuzzy_matcher module
    context: Tests for context_tracker module
    validator: Tests for answer_validator module
    router: Tests for question_router module
    phase: Tests for phase_manager module
    generator: Tests for response_generator module
    fast: Fast-running tests (< 1s)
    slow: Slow-running tests (> 1s)
    smash_formula: Tests for Smash Formula conversation flows
    prospect: Tests for prospect mode functionality
    salesrep: Tests for sales rep mode functionality
    api: End-to-end API tests

# Coverage options (when using pytest-cov)
[coverage:run]
source = kalap_v2
omit = 
    */tests/*
    */__pycache__/*
    */config/*

[coverage:report]
precision = 2
show_missing = True
skip_covered = False
